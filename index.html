<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>modbusconf-web</title>
    <link href="main.css" rel="stylesheet" type="text/css" media="all">
    <link href='https://fonts.googleapis.com/css?family=Source+Code+Pro' rel='stylesheet' type='text/css'>
</head>
<body>

    <div id="topBar" class="header">
        <div id="button_openFile" class="button" title="Click to upload existing configuration file.">Upload .cfg File</div>
    	<div id="button_download" class="button" title="Click to download current configuration.">Download .cfg File</div>
		<a id="button_github" class="button" target="_blank" href="https://github.com/ctag/modbusconf" title="Click to learn about modbusconf">Github</a>
		<a id="button_about" class="button" target="_blank" href="http://www.openplcproject.com" title="Click to learn about ModBus and OpenPLC.">OpenPLC</a>
    </div><!-- topBar -->

    <div id="config" class="content_wrapper">
        <div id="config_list" class="list_wrapper">
            <div id="config_list_new" class="config_list_button" title="Click to create a new device.">[+]</div>
			<div id="config_list_items" class="list_items_wrapper">
			</div>
			<div id="config_list_del" class="config_list_button" title="Click to delete active device.">[-]</div>
        </div>
        <div id="config_values" class="values_wrapper">
            <div class="title_box">Device Configuration</div>
            <div class="values_box">
				<div class="config_value_wrapper" title="The name for the device. You can insert anything here. Ex: 'My Modbus Slave Device'">
                	Name: <input id="device-name" class="config_values_input" type="text" value="NA">
				</div>
				<div class="config_value_wrapper" title="The protocol your device accepts. It can be 'TCP' or 'RTU'">
                    Protocol:
                    <select name="device-protocol" id="device-protocol" class="config_values_input">
                        <option value="TCP">TCP</option>
                        <option value="RTU">RTU</option>
                    </select>
				</div>
                <div class="config_value_wrapper" title="Your modbus device Slave ID">
                    Slave ID: <input id="device-id" class="config_values_input" type="number" value="0">
                </div>
				<div class="config_value_wrapper" title="The address for your device. In case of TCP, this is the IP Address. In case of RTU, this is the Serial COM port your PC will use to communicate with your device. It is usually something like /dev/ttyS0 or /dev/ttyS1... On Windows, substitute your COM number with /dev/ttyS(COM number - 1)">
                    Address: <input id="device-address" class="config_values_input config_tcp" type="text" value="0.0.0.0">
				</div>
                <div class="config_value_wrapper" title="In case of Modbus TCP, this is the TCP/IP Port number. If you choose Modbus RTU protocol you must leave it blank">
                    IP Port: <input id="device-port" class="config_values_input config_tcp" type="number" value="0">
				</div>
                <div class="config_value_wrapper" title="If you choose Modbus RTU, this is the Baud Rate of your slave device">
                    RTU Baud Rate: <input id="device-rtu-baud" class="config_values_input config_rtu" type="number" value="0">
				</div>
                <div class="config_value_wrapper" title="This is the Parity for your Modbus RTU device.">
                    RTU Parity:
                    <select name="device-rtu-parity" id="device-rtu-parity" class="config_values_input config_rtu">
                        <option value="N">None</option>
                        <option value="E">Even</option>
                        <option value="O">Odd</option>
                    </select>
				</div>
                <div class="config_value_wrapper" title="The number of bits of data for your Modbus RTU device">
                    RTU Data Bits: <input id="device-rtu-data" class="config_values_input config_rtu" type="number" value="0">
				</div>
                <div class="config_value_wrapper" title="Specifies the bits of stop for your Modbus RTU device">
                    RTU Stop Bits: <input id="device-rtu-stop" class="config_values_input config_rtu" type="number" value="0">
            	</div>
			</div>
            <div class="title_box">I/O Configuration</div>
            <div class="values_box">
				<div class="config_value_wrapper" title="Defines what is the start address for the read discrete inputs request. Unless you want to start reading your discrete inputs after an offset, you should leave this as '0'.">
                    Discrete Inputs Start: <input id="device-discrete-input-start" class="config_values_input" type="number" value="0">
				</div>
                <div class="config_value_wrapper" title="Defines how many discrete inputs will be read. For example, if your device has 12 discrete inputs and you defined Start to be zero, if you insert '3' here, only the first 3 inputs will be read. If you insert '12', all the 12 inputs will be read. Inserting a number bigger than the maximum inputs you have available in your device may cause your slave device to malfunction.">
                    Discrete Inputs Size: <input id="device-discrete-input-size" class="config_values_input" type="number" value="0">
				</div>
                <div class="config_value_wrapper" title="Defines what is the start address for the write coils request. Unless you want to start writing your digital output after an offset, you should leave this as '0'.">
                    Coils Start: <input id="device-coils-start" class="config_values_input" type="number" value="0">
				</div>
                <div class="config_value_wrapper" title="Defines how many coils (digital outputs) will be written. For example, if your device has 12 coils and you defined Start to be zero, if you insert '3' here, only the first 3 coils will be written. If you insert '12', all the 12 coils will be written. Inserting a number bigger than the maximum coils you have available in your device may cause your slave device to malfunction.">
                    Coils Size: <input id="device-coils-size" class="config_values_input" type="number" value="0">
				</div>
                <div class="config_value_wrapper" title="Defines what is the start address for the read input registers request. Unless you want to start reading your analog inputs after an offset, you should leave this as '0'.">
                    Input Registers Start: <input id="device-input-registers-start" class="config_values_input" type="number" value="0">
				</div>
                <div class="config_value_wrapper" title="Defines how many analog inputs will be read. For example, if your device has 12 analog inputs and you defined Start to be zero, if you insert '3' here, only the first 3 analog inputs will be read. If you insert '12', all the 12 analog inputs will be read. Inserting a number bigger than the maximum analog inputs you have available in your device may cause your slave device to malfunction.">
                    Input Registers Size: <input id="device-input-registers-size" class="config_values_input" type="number" value="0">
				</div>
                <div class="config_value_wrapper" title="Defines what is the start address for the write holding registers request. Unless you want to start writing your analog output after an offset, you should leave this as '0'.">
                    Holding Registers Start: <input id="device-holding-registers-start" class="config_values_input" type="number" value="0">
				</div>
                <div class="config_value_wrapper" title="Defines how many holding registers (analog outputs) will be written. For example, if your device has 12 analog outputs and you defined Start to be zero, if you insert '3' here, only the first 3 analog outputs will be written. If you insert '12', all the 12 analog outputs will be written. Inserting a number bigger than the maximum analog outputs you have available in your device may cause your slave device to malfunction.">
                    Holding Registers Size: <input id="device-holding-registers-size" class="config_values_input" type="number" value="0">
				</div>
            </div>
        </div><!-- config_values -->
        <div id="config_preview" class="preview_wrapper">
			Welcome to modbusconf-web!
			<br><br>
			This page provides a UI to the <a class="button" target="_blank" href="http://www.rtaautomation.com/technologies/modbus-rtu/">ModBus</a> configuration settings. To begin, either click the [+] on the left hand side of the page to create a new device, or click the Upload button to provide an existing modbus configuration file.
			<br><br>
			When done, click the Download button to retreive the new file.
			<br><br>
			All operation takes place in your browser via javascript. Read the source on our <a class="button" target="_blank" href="https://github.com/ctag/modbusconf">github</a>.
			<br><br>
            Create a device or upload a .cfg file to see preview...
        </div>
    </div><!-- config -->

</body>
<script type="text/javascript" src="index.js"></script>
<!-- 
	Page created and maintained by Christopher Bero (bigbero@gmail.com).
	Liscensed under the GNU GPLv3.
	Comments, suggestions welcome.
-->
</html>
